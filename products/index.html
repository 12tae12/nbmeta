<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Natural Bonds M*E*T*A - Pure, Sustainable Skincare for Your Natural Glow">
  <title>Products | Natural Bonds M*E*T*A</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* General Styles */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #ffffff; /* White */
      color: #333333; /* Dark Gray */
      line-height: 1.6;
    }

    /* Header */
    header {
      background-color: #2E8B57; /* Green */
      color: #ffffff; /* White */
      padding: 20px 0;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
    }

    header p {
      margin: 5px 0 0;
      font-size: 1.2rem;
    }

    /* Navigation */
    nav {
      background-color: #3E2723; /* Dark Brown */
      padding: 10px 0;
      text-align: center;
    }

    nav a {
      color: #ffffff; /* White */
      text-decoration: none;
      margin: 0 15px;
      font-size: 1.1rem;
    }

    nav a:hover {
      color: #D2B48C; /* Light Brown */
    }

    /* Main Content */
    .content {
      padding: 40px 20px;
      text-align: center;
    }

    .content h3 {
      color: #2E8B57; /* Green */
      font-size: 2rem;
    }

    .content p {
      max-width: 800px;
      margin: 20px auto;
    }

    /* Card Styles */
    .card {
      height: 100%;
    }

    .card-img-top {
      height: 200px;
      object-fit: cover;
    }

    /* Footer */
    footer {
      background-color: #3E2723; /* Dark Brown */
      color: #ffffff; /* White */
      text-align: center;
      padding: 20px 0;
    }

    footer p {
      margin: 0;
    }

    /* Buttons */
    .btn {
      display: inline-block;
      background-color: #2E8B57; /* Green */
      color: #ffffff; /* White */
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 20px;
    }

    .btn:hover {
      background-color: #3E2723; /* Dark Brown */
    }
  </style>
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "qhj6tg3pzo");
  </script>
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Natural Bonds M*E*T*A</h1>
    <p>Pure, Sustainable Skincare for Your Natural Glow</p>
  </header>

  <!-- Navigation -->
  <nav>
    <a href="https://nbmeta.pages.dev/">Home</a>
    <a href="https://nbmeta.pages.dev/about">About Us</a>
    <a href="https://nbmeta.pages.dev/products/index.html">Products</a>
    <a href="https://nbmeta.pages.dev/contact">Contact</a>
  </nav>

  <!-- Main Content -->
  <section class="content">
    <h3>Shop at Natural Bonds META</h3>
    <p>Discover what we have to offer to you today...</p>
    <div class="container">
      <div class="row" id="productGrid"></div>
    </div> <!-- Close .container -->
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Natural Bonds META. All rights reserved.</p>
  </footer>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
const products = [
  {
    name: "Natural Age Defying Night Cream 1.5 oz",
    img: "https://nbmeta.pages.dev/assets/Natural_Age_Defying_Night_Cream_1.5_oz.webp",
    alt: "Natural Age Defying Night Cream",
    link: "https://nbmeta.pages.dev/products/product.html?id=natural-age-defying-night-cream"
  },
  {
    name: "Aloe and Green Tea Facial Toner",
    img: "https://nbmeta.pages.dev/assets/Aloe_and_Green_Tea_Facial_Toner.png",
    alt: "Aloe and Green Tea Facial Toner",
    link: "https://nbmeta.pages.dev/products/product.html?id=aloe-and-green-tea-facial-toner"
  },
  {
    name: "Colloidal Oatmeal Soap (3Pk)",
    img: "https://nbmeta.pages.dev/assets/Colloidal_Oatmeal_Soap_3Pk.webp",
    alt: "Colloidal Oatmeal Soap",
    link: "https://nbmeta.pages.dev/products/product.html?id=colloidal-oatmeal-soap-3pk"
  },
  {
    name: "Hibiscus Beauty Bar 3.5 oz",
    img: "https://nbmeta.pages.dev/assets/Hibiscus_Beauty_Bar_3.5_oz.png",
    alt: "Hibiscus Beauty Bar 3.5 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=hibiscus-beauty-bar"
  },
  {
    name: "KisserCare Lip Balm Pack of 4",
    img: "https://nbmeta.pages.dev/assets/KisserCare_Lip_Balm_Pack_of_4.avif",
    alt: "KisserCare Lip Balm Pack of 4",
    link: "https://nbmeta.pages.dev/products/product.html?id=kissercare-lip-balm-pack"
  },
  {
    name: "Liquid Neem Soap with Aloe Vera, Tea Tree Oil & Lemongrass Essential Oil",
    img: "https://nbmeta.pages.dev/assets/Liquid_Neem_Soap_w_Aloe_Vera_Tea_Tree_Oil_Lemongrass_Essential_Oil.avif",
    alt: "Liquid Neem Soap with Aloe Vera, Tea Tree Oil & Lemongrass Essential Oil",
    link: "https://nbmeta.pages.dev/products/product.html?id=liquid-neem-soap"
  },
  {
    name: "Moisturizing Body Butter 4.0 oz",
    img: "https://nbmeta.pages.dev/assets/Moisturizing_Body_Butter_4.0_oz.avif",
    alt: "Moisturizing Body Butter 4.0 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=moisturizing-body-butter"
  },
  {
    name: "Natural Anti-aging Day Cream 1.5 oz",
    img: "https://nbmeta.pages.dev/assets/Natural_Anti_Aging_Day_Cream_1.5_oz.png",
    alt: "Natural Anti-aging Day Cream 1.5 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=natural-anti-aging-day-cream"
  },
  {
    name: "Natural Facial Cleanser 8.0 oz",
    img: "https://nbmeta.pages.dev/assets/Natural_Facial_Cleanser_8.0_oz.png",
    alt: "Natural Facial Cleanser 8.0 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=natural-facial-cleanser"
  },
  {
    name: "Natural Whiskers Aftershave Lotion",
    img: "https://nbmeta.pages.dev/assets/Natural_Whiskers_Aftershave_Lotion.png",
    alt: "Natural Whiskers Aftershave Lotion",
    link: "https://nbmeta.pages.dev/products/product.html?id=natural-whiskers-aftershave-lotion"
  },
  {
    name: "Natural Whiskers Shave Butter 3.5 oz",
    img: "https://nbmeta.pages.dev/assets/Natural_Whiskers_Shave_Butter_3.5_oz.png",
    alt: "Natural Whiskers Shave Butter 3.5 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=natural-whiskers-shave-butter"
  },
  {
    name: "Naturally Soft Hair Conditioner",
    img: "https://nbmeta.pages.dev/assets/Naturally_Soft_Hair_Conditioner.png",
    alt: "Naturally Soft Hair Conditioner",
    link: "https://nbmeta.pages.dev/products/product.html?id=naturally-soft-hair-conditioner"
  },
  {
    name: "Neem Oil Soap 2pk with Aloe Vera, Lemongrass & Tea Tree Oil",
    img: "https://nbmeta.pages.dev/assets/Neem_Oil_Soap_2pk_w_Aloe_Vera_Lemongrass_Tea_Tree_Oil.png",
    alt: "Neem Oil Soap 2pk with Aloe Vera, Lemongrass & Tea Tree Oil",
    link: "https://nbmeta.pages.dev/products/product.html?id=neem-oil-soap-2pk"
  },
  {
    name: "Neem Soap for Pets 3.5 oz",
    img: "https://nbmeta.pages.dev/assets/Neem_Soap_for_Pets_3.5_oz.png",
    alt: "Neem Soap for Pets 3.5 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=neem-soap-for-pets"
  },
  {
    name: "Olive Oil Shampoo and Conditioner Set",
    img: "https://nbmeta.pages.dev/assets/Olive_Oil_Shampoo_and_Conditioner.png",
    alt: "Olive Oil Shampoo and Conditioner Set",
    link: "https://nbmeta.pages.dev/products/product.html?id=olive-oil-shampoo-and-conditioner-set"
  },
  {
    name: "Olive Oil Shampoo w/panthenol 8.0 oz",
    img: "https://nbmeta.pages.dev/assets/Olive_Oil_Shampoo_w_Panthenol_8.0_oz.png",
    alt: "Olive Oil Shampoo w/panthenol 8.0 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=olive-oil-shampoo"
  },
  {
    name: "Skin Brightening Facial Moisturizer (Sorrel Infused) 3.5 oz",
    img: "https://nbmeta.pages.dev/assets/Skin_Brightening_Facial_Moisturizer_Sorrel_Infused_3.5_oz.png",
    alt: "Skin Brightening Facial Moisturizer (Sorrel Infused) 3.5 oz",
    link: "https://nbmeta.pages.dev/products/product.html?id=skin-brightening-facial-moisturizer"
  }
];

async function fetchProductPrice(productId) {
  try {
    const response = await fetch(`/products/data/${productId}.json`);
    if (!response.ok) throw new Error('Product not found');
    const data = await response.json();
    return data.price;
  } catch (error) {
    console.error('Error fetching price:', error);
    return null;
  }
}

async function renderProducts() {
  const grid = document.getElementById('productGrid');
  grid.innerHTML = '';
  
  for (const product of products) {
    const card = document.createElement('div');
    card.className = 'col-md-4 mb-4';
    
    // Get the product ID from the link
    const productId = product.link.split('id=')[1];
    // Fetch the price from the JSON file
    const price = await fetchProductPrice(productId);
    
    card.innerHTML = `
      <div class="card shadow-sm">
        <div class="img-container" style="position:relative;height:200px;display:flex;align-items:center;justify-content:center;">
          <div class="spinner-border text-success" role="status" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);" aria-label="Loading image..."></div>
          <img src="${product.img}" class="card-img-top" alt="${product.alt}" style="display:none;height:200px;object-fit:cover;">
        </div>
        <div class="card-body">
          <p class="card-text">${product.name}</p>
          <p class="card-text"><strong class="text-success">$${price ? price.toFixed(2) : '-.--'}</strong></p>
          <div class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
              <a href="${product.link}" class="btn btn-sm btn-outline-secondary">View</a>
            </div>
          </div>
        </div>
      </div>
    `;
    grid.appendChild(card);
    
    // Image loading logic
    const img = card.querySelector('img');
    const spinner = card.querySelector('.spinner-border');
    img.onload = function() {
      spinner.style.display = 'none';
      img.style.display = 'block';
    };
    img.onerror = function() {
      spinner.classList.remove('text-success');
      spinner.classList.add('text-danger');
      spinner.setAttribute('aria-label', 'Image failed to load');
    };
  }
}

// Call the async function
renderProducts().catch(error => console.error('Error rendering products:', error));
</script>
</body>
</html>